{"version":3,"sources":["AddPost.js","ListItem.js","app.js"],"names":["AddPost","this","markdownUpdated","mdeditorTarget","classList","remove","mdpreviewTarget","add","_this","axios","post","markdown","markdownTarget","value","headers","X-Requested-With","X-CSRF-TOKEN","document","querySelector","getAttribute","then","data","innerHTML","Stimulus","Controller","ListItem","evt","preventDefault","delete","concat","path","itemId","resp","location","reload","get","app","Application","start","register","addEventListener","feather","replace"],"mappings":"usCAAMA,Q,gOASFC,KAAKC,iBAAkB,I,iCAIvBD,KAAKC,iBAAkB,I,6BAIvBD,KAAKE,eAAeC,UAAUC,OAAO,UACrCJ,KAAKK,gBAAgBF,UAAUG,IAAI,Y,gCAG3B,IAAAC,EAAAP,KACR,OAAKA,KAAKC,gBAMHO,MACJC,KACC,sCACA,CACEC,SAAUV,KAAKW,eAAeC,OAEhC,CACEC,QAAS,CACPC,mBAAoB,iBACpBC,eAAgBC,SACbC,cAAc,uBACdC,aAAa,YAIrBC,KAAK,SAAAC,GACJb,EAAKF,gBAAgBgB,UAAYD,EAAKA,KAAKA,KAC3Cb,EAAKN,iBAAkB,EACvBM,EAAKL,eAAeC,UAAUG,IAAI,UAClCC,EAAKF,gBAAgBF,UAAUC,OAAO,aAxBxCJ,KAAKE,eAAeC,UAAUG,IAAI,eAClCN,KAAKK,gBAAgBF,UAAUC,OAAO,c,+BAtBxC,MAAO,CACL,WACA,YACA,gB,GALgBkB,SAASC,Y,0rCCAzBC,S,qQAIQC,GAGV,OAFAA,EAAIC,iBAEGlB,MACJmB,OADI,yBAAAC,OAC4B5B,KAAK6B,KADjC,KAAAD,OACyC5B,KAAK8B,SAClDX,KAAK,SAAAY,GACJC,SAASC,a,6BAKb,OAAOjC,KAAKoB,KAAKc,IAAI,Q,2BAIrB,OAAOlC,KAAKoB,KAAKc,IAAI,W,uCAnBFZ,SAASC,YCA1BY,IAAMb,SAASc,YAAYC,QAEjCF,IAAIG,SAAS,WAAYvC,SACzBoC,IAAIG,SAAS,YAAad,UAE1BR,SAASuB,iBAAiB,kBAAmB,SAAAd,GAC3Ce,QAAQC","file":"custom-scripts.min.js","sourcesContent":["class AddPost extends Stimulus.Controller {\n  static get targets() {\n    return [\n      'markdown',\n      'mdpreview', // hide while editing\n      'mdeditor' // hide while previewing\n    ]\n  }\n  initialize() {\n    this.markdownUpdated = true\n  }\n\n  mdupdate() {\n    this.markdownUpdated = true\n  }\n\n  edit() {\n    this.mdeditorTarget.classList.remove('hidden')\n    this.mdpreviewTarget.classList.add('hidden')\n  }\n\n  preview() {\n    if (!this.markdownUpdated) {\n      this.mdeditorTarget.classList.add('hidden')\n      this.mdpreviewTarget.classList.remove('hidden')\n      return\n    }\n\n    return axios\n      .post(\n        'http://127.0.0.1:3333/posts/preview',\n        {\n          markdown: this.markdownTarget.value\n        },\n        {\n          headers: {\n            'X-Requested-With': 'XMLHttpRequest',\n            'X-CSRF-TOKEN': document\n              .querySelector('input[name=\"_csrf\"]')\n              .getAttribute('value')\n          }\n        }\n      )\n      .then(data => {\n        this.mdpreviewTarget.innerHTML = data.data.data\n        this.markdownUpdated = false\n        this.mdeditorTarget.classList.add('hidden')\n        this.mdpreviewTarget.classList.remove('hidden')\n      })\n  }\n}\n","class ListItem extends Stimulus.Controller {\n  static get targets() {}\n  initialize() {}\n\n  destroyItem(evt) {\n    evt.preventDefault()\n\n    return axios\n      .delete(`http://127.0.0.1:3333/${this.path}/${this.itemId}`)\n      .then(resp => {\n        location.reload()\n      })\n  }\n\n  get itemId() {\n    return this.data.get('id')\n  }\n\n  get path() {\n    return this.data.get('path')\n  }\n}\n","const app = Stimulus.Application.start()\n\napp.register('add-post', AddPost)\napp.register('list-item', ListItem)\n\ndocument.addEventListener('turbolinks:load', evt => {\n  feather.replace()\n})\n"]}