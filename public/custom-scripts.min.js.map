{"version":3,"sources":["AddPost.js","ListItem.js","app.js"],"names":["Env","use","AddPost","this","markdownUpdated","mdeditorTarget","classList","remove","mdpreviewTarget","add","_this","console","log","get","process","env","axios","post","markdown","markdownTarget","value","headers","X-Requested-With","X-CSRF-TOKEN","document","querySelector","getAttribute","then","data","innerHTML","Stimulus","Controller","ListItem","evt","preventDefault","delete","concat","path","itemId","resp","location","reload","app","Application","start","register","addEventListener","feather","replace"],"mappings":"msCAAA,IAAMA,IAAMC,IAAI,OAEVC,Q,gOASFC,KAAKC,iBAAkB,I,iCAIvBD,KAAKC,iBAAkB,I,6BAIvBD,KAAKE,eAAeC,UAAUC,OAAO,UACrCJ,KAAKK,gBAAgBF,UAAUG,IAAI,Y,gCAG3B,IAAAC,EAAAP,KACR,OAAKA,KAAKC,iBAMVO,QAAQC,IAAI,iBAAmBZ,IAAIa,IAAI,WAAYC,QAAQC,IAAI,aAAe,kBAEvEC,MACJC,KAECjB,IAAIa,IAAI,WAAYC,QAAQC,IAAI,aAAe,iBAC/C,CACEG,SAAUf,KAAKgB,eAAeC,OAEhC,CACEC,QAAS,CACPC,mBAAoB,iBACpBC,eAAgBC,SACbC,cAAc,uBACdC,aAAa,YAIrBC,KAAK,SAAAC,GACJlB,EAAKF,gBAAgBqB,UAAYD,EAAKA,KAAKA,KAC3ClB,EAAKN,iBAAkB,EACvBM,EAAKL,eAAeC,UAAUG,IAAI,UAClCC,EAAKF,gBAAgBF,UAAUC,OAAO,cA3BxCJ,KAAKE,eAAeC,UAAUG,IAAI,eAClCN,KAAKK,gBAAgBF,UAAUC,OAAO,c,+BAtBxC,MAAO,CACL,WACA,YACA,gB,GALgBuB,SAASC,Y,srCCF/B,IAAM/B,IAAMC,IAAI,OAEV+B,S,qQAIQC,GAGV,OAFAA,EAAIC,iBAEGlB,MAEJmB,OAFI,UAAAC,OAEapC,IAAIa,IAAI,WAAYC,QAAQC,IAAI,aAF7C,KAAAqB,OAE6DjC,KAAKkC,KAFlE,KAAAD,OAE0EjC,KAAKmC,SACnFX,KAAK,SAAAY,GACJC,SAASC,a,6BAKb,OAAOtC,KAAKyB,KAAKf,IAAI,Q,2BAIrB,OAAOV,KAAKyB,KAAKf,IAAI,W,uCApBFiB,SAASC,YCF1BW,IAAMZ,SAASa,YAAYC,QAEjCF,IAAIG,SAAS,WAAY3C,SACzBwC,IAAIG,SAAS,YAAab,UAE1BR,SAASsB,iBAAiB,kBAAmB,SAAAb,GAC3Cc,QAAQC","file":"custom-scripts.min.js","sourcesContent":["const Env = use('Env')\n\nclass AddPost extends Stimulus.Controller {\n  static get targets() {\n    return [\n      'markdown',\n      'mdpreview', // hide while editing\n      'mdeditor' // hide while previewing\n    ]\n  }\n  initialize() {\n    this.markdownUpdated = true\n  }\n\n  mdupdate() {\n    this.markdownUpdated = true\n  }\n\n  edit() {\n    this.mdeditorTarget.classList.remove('hidden')\n    this.mdpreviewTarget.classList.add('hidden')\n  }\n\n  preview() {\n    if (!this.markdownUpdated) {\n      this.mdeditorTarget.classList.add('hidden')\n      this.mdpreviewTarget.classList.remove('hidden')\n      return\n    }\n\n    console.log('The Base URL: ' + Env.get('BASE_URL', process.env('BASE_URL')) + '/posts/preview')\n\n    return axios\n      .post(\n        //'http://127.0.0.1:3333/posts/preview',\n        Env.get('BASE_URL', process.env('BASE_URL')) + '/posts/preview',\n        {\n          markdown: this.markdownTarget.value\n        },\n        {\n          headers: {\n            'X-Requested-With': 'XMLHttpRequest',\n            'X-CSRF-TOKEN': document\n              .querySelector('input[name=\"_csrf\"]')\n              .getAttribute('value')\n          }\n        }\n      )\n      .then(data => {\n        this.mdpreviewTarget.innerHTML = data.data.data\n        this.markdownUpdated = false\n        this.mdeditorTarget.classList.add('hidden')\n        this.mdpreviewTarget.classList.remove('hidden')\n      })\n  }\n}\n","const Env = use('Env')\n\nclass ListItem extends Stimulus.Controller {\n  static get targets() {}\n  initialize() {}\n\n  destroyItem(evt) {\n    evt.preventDefault()\n\n    return axios\n      //.delete(`http://127.0.0.1:3333/${this.path}/${this.itemId}`)\n      .delete(`http://${Env.get('BASE_URL', process.env('BASE_URL'))}/${this.path}/${this.itemId}`)\n      .then(resp => {\n        location.reload()\n      })\n  }\n\n  get itemId() {\n    return this.data.get('id')\n  }\n\n  get path() {\n    return this.data.get('path')\n  }\n}\n","const app = Stimulus.Application.start()\n\napp.register('add-post', AddPost)\napp.register('list-item', ListItem)\n\ndocument.addEventListener('turbolinks:load', evt => {\n  feather.replace()\n})\n"]}