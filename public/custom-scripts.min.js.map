{"version":3,"sources":["AddPost.js","ListItem.js","app.js"],"names":["AddPost","this","markdownUpdated","mdeditorTarget","classList","remove","mdpreviewTarget","add","_this","baseUrl","process","env","console","log","axios","post","markdown","markdownTarget","value","headers","X-Requested-With","X-CSRF-TOKEN","document","querySelector","getAttribute","then","data","innerHTML","Stimulus","Controller","Env","use","ListItem","evt","preventDefault","path","itemId","delete","concat","resp","location","reload","get","app","Application","start","register","addEventListener","feather","replace"],"mappings":"usCACMA,Q,gOASFC,KAAKC,iBAAkB,I,iCAIvBD,KAAKC,iBAAkB,I,6BAIvBD,KAAKE,eAAeC,UAAUC,OAAO,UACrCJ,KAAKK,gBAAgBF,UAAUG,IAAI,Y,gCAG3B,IAAAC,EAAAP,KACR,IAAKA,KAAKC,gBAGR,OAFAD,KAAKE,eAAeC,UAAUG,IAAI,eAClCN,KAAKK,gBAAgBF,UAAUC,OAAO,UAIxC,IAAMI,EAAUC,QAAQC,IAAI,aAAe,wBAM3C,OAJAC,QAAQC,IAAI,iBAAmBJ,EAAU,kBAIlCK,MACJC,KAECN,EAAU,iBACV,CACEO,SAAUf,KAAKgB,eAAeC,OAEhC,CACEC,QAAS,CACPC,mBAAoB,iBACpBC,eAAgBC,SACbC,cAAc,uBACdC,aAAa,YAIrBC,KAAK,SAAAC,GACJlB,EAAKF,gBAAgBqB,UAAYD,EAAKA,KAAKA,KAC3ClB,EAAKN,iBAAkB,EACvBM,EAAKL,eAAeC,UAAUG,IAAI,UAClCC,EAAKF,gBAAgBF,UAAUC,OAAO,e,+BApD1C,MAAO,CACL,WACA,YACA,gB,GALgBuB,SAASC,Y,srCCD/B,IAAMC,IAAMC,IAAI,OAEVC,S,qQAIQC,GACVA,EAAIC,iBAEJ,IAAMzB,EAAUC,QAAQC,IAAI,aAAe,wBAI3C,OAFAC,QAAQC,IAAI,iBAAmBJ,EAAU,IAAMR,KAAKkC,KAAO,IAAMlC,KAAKmC,QAE/DtB,MAEJuB,OAFI,UAAAC,OAEa7B,EAFb,KAAA6B,OAEwBrC,KAAKkC,KAF7B,KAAAG,OAEqCrC,KAAKmC,SAC9CX,KAAK,SAAAc,GACJC,SAASC,a,6BAKb,OAAOxC,KAAKyB,KAAKgB,IAAI,Q,2BAIrB,OAAOzC,KAAKyB,KAAKgB,IAAI,W,uCAxBFd,SAASC,YCF1Bc,IAAMf,SAASgB,YAAYC,QAEjCF,IAAIG,SAAS,WAAY9C,SACzB2C,IAAIG,SAAS,YAAad,UAE1BV,SAASyB,iBAAiB,kBAAmB,SAAAd,GAC3Ce,QAAQC","file":"custom-scripts.min.js","sourcesContent":["\nclass AddPost extends Stimulus.Controller {\n  static get targets() {\n    return [\n      'markdown',\n      'mdpreview', // hide while editing\n      'mdeditor' // hide while previewing\n    ]\n  }\n  initialize() {\n    this.markdownUpdated = true\n  }\n\n  mdupdate() {\n    this.markdownUpdated = true\n  }\n\n  edit() {\n    this.mdeditorTarget.classList.remove('hidden')\n    this.mdpreviewTarget.classList.add('hidden')\n  }\n\n  preview() {\n    if (!this.markdownUpdated) {\n      this.mdeditorTarget.classList.add('hidden')\n      this.mdpreviewTarget.classList.remove('hidden')\n      return\n    }\n\n    const baseUrl = process.env('BASE_URL') || 'http://127.0.0.1:3333'\n\n    console.log('The Base URL: ' + baseUrl + '/posts/preview')\n\n\n\n    return axios\n      .post(\n        //'http://127.0.0.1:3333/posts/preview',\n        baseUrl + '/posts/preview',\n        {\n          markdown: this.markdownTarget.value\n        },\n        {\n          headers: {\n            'X-Requested-With': 'XMLHttpRequest',\n            'X-CSRF-TOKEN': document\n              .querySelector('input[name=\"_csrf\"]')\n              .getAttribute('value')\n          }\n        }\n      )\n      .then(data => {\n        this.mdpreviewTarget.innerHTML = data.data.data\n        this.markdownUpdated = false\n        this.mdeditorTarget.classList.add('hidden')\n        this.mdpreviewTarget.classList.remove('hidden')\n      })\n  }\n}\n","const Env = use('Env')\n\nclass ListItem extends Stimulus.Controller {\n  static get targets() {}\n  initialize() {}\n\n  destroyItem(evt) {\n    evt.preventDefault()\n\n    const baseUrl = process.env('BASE_URL') || 'http://127.0.0.1:3333'\n\n    console.log('The Base URL: ' + baseUrl + '/' + this.path + '/' + this.itemId)\n\n    return axios\n      //.delete(`http://127.0.0.1:3333/${this.path}/${this.itemId}`)\n      .delete(`http://${baseUrl}/${this.path}/${this.itemId}`)\n      .then(resp => {\n        location.reload()\n      })\n  }\n\n  get itemId() {\n    return this.data.get('id')\n  }\n\n  get path() {\n    return this.data.get('path')\n  }\n}\n","const app = Stimulus.Application.start()\n\napp.register('add-post', AddPost)\napp.register('list-item', ListItem)\n\ndocument.addEventListener('turbolinks:load', evt => {\n  feather.replace()\n})\n"]}